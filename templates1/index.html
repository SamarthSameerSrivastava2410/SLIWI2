<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Hand Gesture Recorder</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; background: #222; color: #fff; }
    video, img { border: 2px solid #fff; }
    .buttons { margin-top: 20px; }
    button { padding: 10px 20px; margin: 5px; font-size: 16px; cursor: pointer; }
    button.recording { background-color: red; color: white; }
  </style>
</head>
<body>
  <h1>Hand Gesture Recorder</h1>

  <!-- Video stream -->
  <img src="{{ url_for('video_feed') }}" width="640" height="480">

  <!-- Buttons -->
  <div class="buttons">
    <label>Start Recording Letter:</label>
    <input type="text" id="labelInput" maxlength="1" style="width:50px; text-align:center;">
    <button onclick="startRecord()">Start</button>
    <button onclick="stopRecord()">Stop</button>
  </div>

  <p id="status">Status: Idle</p>

  <script>
    function startRecord() {
      const label = document.getElementById('labelInput').value.toUpperCase();
      if (!label.match(/[A-Z]/)) {
        alert("Please enter a letter A-Z");
        return;
      }
      fetch(`/start_record?label=${label}`)
        .then(response => response.json())
        .then(data => {
          document.getElementById('status').innerText = "Status: Recording " + data.label;
        });
    }

    function stopRecord() {
      fetch(`/stop_record`)
        .then(response => response.json())
        .then(data => {
          document.getElementById('status').innerText = "Status: Idle";
        });
    }
  </script>
</body>
</html>
